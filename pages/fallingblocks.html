<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Falling Blocks - NoobDev</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/typing.css">
    <link rel="stylesheet" href="../assets/css/pages/fallingblocks.css">
</head>
<body>
    <div class="stars" id="starsContainer"></div>
    <div class="moon"><div class="moon-crater crater1"></div></div>
    
    <nav></nav>

    <div class="game-wrapper">
        <div class="game-main-container">
            <div id="menuScreen" class="game-card">
                <a href="typing.html" class="exit-btn">✕</a>
                <h1 class="game-title neon-text">NEON FALL</h1>
                
                <div style="margin-bottom: 25px; display: inline-block; padding: 10px 30px; background: rgba(59, 130, 246, 0.15); border: 1px solid #3b82f6; border-radius: 50px; color: #60a5fa; font-weight: bold; font-family: monospace; font-size: 1.3rem; box-shadow: 0 0 15px rgba(59, 130, 246, 0.3);">
                    <i class="fas fa-crown"></i> Best: <span id="bestScoreDisplay">--</span>
                </div>

                <p class="game-desc">Type the falling words! (Case Sensitive)</p>
                <div class="difficulty-grid">
                    <button class="diff-btn green" onclick="startGame(1)"><h3>Rookie</h3><span>Slow</span></button>
                    <button class="diff-btn yellow" onclick="startGame(2)"><h3>Hacker</h3><span>Medium</span></button>
                    <button class="diff-btn red" onclick="startGame(3)"><h3>Cyber</h3><span>Fast</span></button>
                </div>
            </div>

            <div id="playingScreen" class="game-card hidden fullscreen-game">
                <div id="gameArea" class="game-area">
                    <div class="hud-overlay">
                        <div class="hud-item score-container"><span class="score-label">SCORE</span><span id="scoreDisplay">0</span></div>
                        <div id="livesDisplay" class="hud-item lives-container"></div>
                    </div>
                    <div class="laser-line"></div>
                </div>
                <div class="keyboard-hint" style="margin-top: 15px; color: #94a3b8; font-size: 0.95rem;">
                    <span><i class="fas fa-keyboard"></i> Type falling words to destroy them!</span>
                </div>
                <button class="quit-btn" onclick="stopGame()">✕ Quit Game</button>
            </div>

            <div id="gameOverScreen" class="game-card hidden">
                <a href="typing.html" class="exit-btn">✕</a>
                <h2 class="game-over-title">SYSTEM FAILURE</h2>
                <div class="final-stats">
                    <div class="stat-box"><span>Final Score</span><h3 id="finalScore" class="highlight-score">0</h3></div>
                </div>
                <div class="action-buttons">
                    <button class="cta-button" onclick="resetGame()">Retry</button>
                    <button class="cta-button ghost" onclick="returnToMenu()">Menu</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import { renderNavbar } from '../assets/js/components/navbar.js';
        import { initStars } from '../assets/js/ui/effects.js';
        document.addEventListener('DOMContentLoaded', () => {
            renderNavbar();
            initStars();
        });
    </script>
    <script type="module" src="../assets/js/pages/fallingblocks.js"></script>
</body>
</html>